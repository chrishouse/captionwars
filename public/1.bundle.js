(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{141:function(e,t,a){var r;e.exports=(r=a(0),function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(6),i=r(o),s=a(4),l=r(s),c={className:l.default.string,onloadCallbackName:l.default.string,elementID:l.default.string,onloadCallback:l.default.func,verifyCallback:l.default.func,expiredCallback:l.default.func,render:l.default.oneOf(["onload","explicit"]),sitekey:l.default.string,theme:l.default.oneOf(["light","dark"]),type:l.default.string,verifyCallbackName:l.default.string,expiredCallbackName:l.default.string,size:l.default.oneOf(["invisible","compact","normal"]),tabindex:l.default.string,hl:l.default.string,badge:l.default.oneOf(["bottomright","bottomleft","inline"])},u=function(){return"undefined"!=typeof window&&void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},p=void 0,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._renderGrecaptcha=a._renderGrecaptcha.bind(a),a.reset=a.reset.bind(a),a.state={ready:u(),widget:null},a.state.ready||"undefined"==typeof window||(p=setInterval(a._updateReadyState.bind(a),1e3)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,r=a.render,n=a.onloadCallback;"explicit"===r&&n&&this.state.ready&&!t.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(p)}},{key:"reset",value:function(){var e=this.state,t=e.ready,a=e.widget;t&&null!==a&&grecaptcha.reset(a)}},{key:"execute",value:function(){var e=this.state,t=e.ready,a=e.widget;t&&null!==a&&grecaptcha.execute(a)}},{key:"_updateReadyState",value:function(){u()&&(this.setState({ready:!0}),clearInterval(p))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?i.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):i.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),t}(o.Component);t.default=d,d.propTypes=c,d.defaultProps={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},e.exports=t.default},function(e,t){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,a){"use strict";var r=function(e){};e.exports=function(e,t,a,n,o,i,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,n,o,i,s,l],p=0;(c=new Error(t.replace(/%s/g,function(){return u[p++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,a){"use strict";var r=a(1),n=a(2),o=a(5);e.exports=function(){function e(e,t,a,r,i,s){s!==o&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return a.checkPropTypes=r,a.PropTypes=a,a}},function(e,t,a){e.exports=a(3)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=r}]))},142:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(1),i=a.n(o),s=a(3),l=a(141),c=a.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b=function(e){function t(){var e,a,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,n=(e=d(t)).call.apply(e,[this].concat(i)),a=!n||"object"!==u(n)&&"function"!=typeof n?m(r):n,h(m(m(a)),"state",{userName:"",password:"",email:"",confirmEmail:"",confirmPassword:"",realName:"",avatar:null,error:null,submitDisabled:!1,recaptchaVerified:!1}),h(m(m(a)),"onChange",function(e){var t=e.target.name,r=e.target.value;a.setState(h({},t,r))}),h(m(m(a)),"verifyRecaptcha",function(){a.setState({recaptchaVerified:!0})}),h(m(m(a)),"onSubmit",function(e){e.preventDefault(),a.setState({submitDisabled:!0}),a.state.password!==a.state.confirmPassword?a.setState({error:"Passwords do not match",submitDisabled:!1}):a.state.email!==a.state.confirmEmail?a.setState({error:"Emails do not match",submitDisabled:!1}):a.state.recaptchaVerified?s.k(e.target.userName.value,e.target.password.value,e.target.email.value).then(function(e){if(200!==e.status)a.setState({error:e.data.msg,submitDisabled:!1});else if(200===e.status)if(a.state.avatar){var t=e.data.user.id,r=e.data.token,n=new FormData;n.append("avatar",a.uploadInput.files[0]),n.append("user",t),s.c(n).then(function(e){400===e.status||500===e.status?a.setState({error:e.data.msg}):s.e(r,"avatar","".concat(t,".jpg")).then(function(e){400===e.status?a.setState({error:e.data.msg}):a.props.handleRegisterSuccess()})})}else a.props.handleRegisterSuccess()}):a.setState({error:"Please check the Recaptcha",submitDisabled:!1})}),a}var a,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n.a.Component),a=t,(r=[{key:"render",value:function(){var e=this,t=this.state,a=t.userName,r=t.password,o=t.email,i=t.confirmEmail,s=t.confirmPassword,l=t.error,u=this.props.onCancelClick;return n.a.createElement("div",{className:"register-modal overlay"},n.a.createElement("form",{className:"dialog",onSubmit:this.onSubmit},n.a.createElement("h3",null,"Register"),l?n.a.createElement("h4",{className:"register-error"},l):null,n.a.createElement("label",{htmlFor:"userName"},"Username"),n.a.createElement("input",{type:"text",name:"userName",placeholder:"Username",onChange:this.onChange,value:a,required:!0}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.onChange,value:r,required:!0}),n.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm password"),n.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Password",onChange:this.onChange,value:s,required:!0}),n.a.createElement("label",{htmlFor:"email"},"Your email"),n.a.createElement("input",{type:"email",name:"email",placeholder:"Your email",onChange:this.onChange,value:o,required:!0}),n.a.createElement("label",{htmlFor:"confirmEmail"},"Confirm email"),n.a.createElement("input",{type:"email",name:"confirmEmail",placeholder:"Your email",onChange:this.onChange,value:i,required:!0}),n.a.createElement("label",{htmlFor:"avatar"},"Avatar"),n.a.createElement("input",{type:"file",name:"avatar",onChange:this.onChange,ref:function(t){e.uploadInput=t}}),n.a.createElement(c.a,{sitekey:"6LfHJJ4UAAAAAL_ke8QA4fLwYDnXaV8nB4BCYdIC",verifyCallback:this.verifyRecaptcha}),n.a.createElement("div",{className:"register-buttons"},n.a.createElement("button",{className:"button button-grey",onClick:u,tabIndex:"-1",type:"button"},"Cancel"),n.a.createElement("button",{className:"button",type:"submit",disabled:this.state.submitDisabled},"Submit"))))}}])&&p(a.prototype,r),o&&p(a,o),t}();b.propTypes={handleRegisterSuccess:i.a.func,onCancelClick:i.a.func},t.default=b}}]);