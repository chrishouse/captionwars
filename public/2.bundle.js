(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{143:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),i=a(1),c=a.n(i),o=function(){return l.a.createElement("div",null,"Loading...")},s=a(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b=function(e){function t(){var e,a,n,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=this,l=(e=f(t)).call.apply(e,[this].concat(i)),a=!l||"object"!==u(l)&&"function"!=typeof l?p(n):l,E(p(p(a)),"state",{fieldInput:"",confirmInput:"",error:null,loading:!1,submitDisabled:!1}),E(p(p(a)),"handleEditAccountSubmit",function(e,t){if(e.preventDefault(),a.setState({loading:!0,submitDisabled:!0}),e.target.confirm&&a.state.fieldInput!==a.state.confirmInput)a.setState({error:"Those values do not match"});else if("userName"===t&&a.state.fieldInput.length>25)a.setState({error:"That username is too long"});else if("avatar"===t){var n=new FormData;n.append("avatar",a.uploadInput.files[0]),n.append("user",a.props.user),s.c(a.props.token,n).then(function(e){400===e.status||500===e.status?a.setState({error:e.data.msg,loading:!1,submitDisabled:!1}):s.e(a.props.token,"avatar","".concat(a.props.user,".jpg")).then(function(e){400===e.status?a.setState({error:e.data.msg,submitDisabled:!1}):(a.setState({loading:!1,submitDisabled:!1}),a.props.onEditSuccess())})})}else s.e(a.props.token,t,a.state.fieldInput).then(function(e){400===e.status?a.setState({error:e.data.msg}):(a.setState({loading:!1}),a.props.onEditSuccess())})}),E(p(p(a)),"handleChange",function(e){a.setState({fieldInput:e.target.value})}),E(p(p(a)),"handleConfirmChange",function(e){a.setState({confirmInput:e.target.value})}),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,l.a.Component),a=t,(n=[{key:"render",value:function(){var e,t=this,a=this.props.fieldToEdit,n=a.prettyField,r=a.dataField,i=this.state.fieldInput,c="";switch(r){case"avatar":e="";break;case"userName":case"realName":case"age":case"location":case"website":e="text";break;case"facebook":e="text",c="https://www.facebook.com/";break;case"twitter":e="text",c="https://twitter.com/";break;case"instagram":e="text",c="https://www.instagram.com/";break;case"pinterest":e="text",c="https://www.pinterest.com/";break;case"linkedin":e="text",c="https://www.linkedin.com/";break;case"youtube":e="text",c="https://www.youtube.com/";break;case"password":e="password";break;case"email":e="email"}return l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"dialog account-edit-dialog"},l.a.createElement("form",{className:"account-edit-form",onSubmit:function(e){return t.handleEditAccountSubmit(e,r)},method:"post",encType:"multipart/form-data"},l.a.createElement("p",{className:"account-edit-error"+(this.state.error?" visible":"")},this.state.error),l.a.createElement("label",{htmlFor:r},"facebook"===r||"twitter"===r||"instagram"===r||"pinterest"===r||"linkedin"===r||"youtube"===r?l.a.createElement("i",{className:n}):n+": "),"avatar"===r?l.a.createElement("input",{name:"avatar",type:"file",ref:function(e){t.uploadInput=e},required:!0,accept:"image/*"}):"gender"===r?l.a.createElement("select",{name:"gender-select",onChange:this.handleChange},l.a.createElement("option",{value:"unspecified",defaultValue:!0},"Select"),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Female"},"Female")):"password"===r||"email"===r?l.a.createElement("span",null,l.a.createElement("input",{name:r,type:e,value:i,onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:r},"Confirm: "),l.a.createElement("input",{id:"confirm",type:e,onChange:this.handleConfirmChange})):l.a.createElement("span",null,c,l.a.createElement("input",{name:r,type:e,value:i,onChange:this.handleChange})),l.a.createElement("div",{className:"edit-confirm-buttons"},this.state.loading?l.a.createElement("div",{className:"avatar-loading"},l.a.createElement(o,null)):null,l.a.createElement("button",{className:"button button-grey",type:"button",onClick:this.props.onEditAccountCancel,tabIndex:"-1"},"Cancel"),l.a.createElement("input",{className:"button",type:"submit",value:"Save",disabled:this.state.submitDisabled})))))}}])&&m(a.prototype,n),r&&m(a,r),t}();b.propTypes={onEditAccountCancel:c.a.func,fieldToEdit:c.a.object,user:c.a.string,token:c.a.string,onEditSuccess:c.a.func};var h=b;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var C=function(e){function t(){var e,a,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];return n=this,i=(e=k(t)).call.apply(e,[this].concat(o)),a=!i||"object"!==y(i)&&"function"!=typeof i?v(n):i,N(v(v(a)),"state",{token:localStorage.getItem("token"),authorized:!1,user:null,error:null,editMode:!1,fieldToEdit:{},editConfirm:!1}),N(v(v(a)),"loadUser",function(){s.a(a.state.token).then(function(e){200===e.status?a.setState({authorized:!0,user:e.data,editMode:!1}):a.setState({authorized:!1,user:null,error:e,editMode:!1})})}),N(v(v(a)),"componentDidMount",function(){window.scrollTo(0,0),a.loadUser()}),N(v(v(a)),"handleEditAdd",function(e,t){a.setState({editMode:!0,fieldToEdit:{prettyField:e,dataField:t}})}),N(v(v(a)),"handleEditAccountCancel",function(){a.setState({editMode:!1})}),N(v(v(a)),"handleEditSuccess",function(){a.loadUser(),setTimeout(function(){a.setState({editConfirm:!0})},500),setTimeout(function(){a.setState({editConfirm:!1})},4500)}),N(v(v(a)),"getContent",function(e){if(e){var t=a.props,n=t.userData,i=t.onAvatarClick,c=t.isAuthenticated,o=t.onHomeClick,s=a.state.user,u=s._id,m=s.userName,f=s.realName,d=s.avatar,p=s.age,E=s.gender,b=s.location,y=s.email,w=s.website,k=s.facebook,g=s.twitter,v=s.instagram,N=s.pinterest,C=s.linkedin,A=s.youtube;return l.a.createElement("main",{className:"main-container inner"},a.state.editMode?l.a.createElement(h,{onEditAccountCancel:a.handleEditAccountCancel,fieldToEdit:a.state.fieldToEdit,user:u,token:a.state.token,onEditSuccess:a.handleEditSuccess}):null,l.a.createElement(r.a,{userData:n,currentUser:u,onAvatarClick:i,isAuthenticated:c}),l.a.createElement("main",{className:"main account-main"},l.a.createElement("section",{className:"profile-content account-content"},l.a.createElement("div",{className:"edit-confirm-message"+(a.state.editConfirm?" visible":"")},"Your information has been saved."),l.a.createElement("a",{className:"home-link",onClick:o},l.a.createElement("i",{className:"fas fa-arrow-left"}),l.a.createElement("i",{className:"fas fa-home"})),l.a.createElement("header",{className:"profile-header"},l.a.createElement("div",{className:"profile-photo account-photo"},l.a.createElement("img",{src:"/images/users/".concat(d)})," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Avatar","avatar")}})),l.a.createElement("p",{className:"profile-username"},m," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Username","userName")}}))),l.a.createElement("section",{className:"profile-details-container"},l.a.createElement("div",{className:"profile-detail"},"Password: ",l.a.createElement("span",null,l.a.createElement("span",null,"********"),l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Password","password")}})))),l.a.createElement("div",{className:"profile-detail"},"Email: ",l.a.createElement("span",null,l.a.createElement("a",{href:"mailto:"+y},y),l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Email","email")}})))),l.a.createElement("div",{className:"profile-detail"},"Real Name",l.a.createElement("span",null,f?l.a.createElement("span",null,": ",f," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Real Name","realName")}})):l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("Real Name","realName")}})))),l.a.createElement("div",{className:"profile-detail"},"Age",p?l.a.createElement("span",null,": ",p," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Age","age")}})):l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("Age","age")}}))),l.a.createElement("div",{className:"profile-detail"},"Gender",E?l.a.createElement("span",null,": ",E," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Gender","gender")}})):l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("Gender","gender")}}))),l.a.createElement("div",{className:"profile-detail"},"Location",b?l.a.createElement("span",null,": ",b," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Location","location")}})):l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("Location","location")}}))),l.a.createElement("div",{className:"profile-detail"},"Website",w?l.a.createElement("span",null,": ",l.a.createElement("a",{href:w},w)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("Website","website")}})):l.a.createElement("span",null," ",l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("Website","website")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-facebook-square"}),k?l.a.createElement("span",null,l.a.createElement("a",{href:"https://www.facebook.com/".concat(k)},k)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-facebook-square","facebook")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-facebook-square","facebook")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-twitter-square"}),g?l.a.createElement("span",null,l.a.createElement("a",{href:"https://twitter.com/".concat(g)},g)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-twitter-square","twitter")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-twitter-square","twitter")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-instagram"}),v?l.a.createElement("span",null,l.a.createElement("a",{href:"https://www.instagram.com/".concat(v)},v)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-instagram","instagram")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-instagram","instagram")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-pinterest-square"}),N?l.a.createElement("span",null,l.a.createElement("a",{href:"https://www.pinterest.com/".concat(N)},N)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-pinterest-square","pinterest")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-pinterest-square","pinterest")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-linkedin"}),C?l.a.createElement("span",null,l.a.createElement("a",{href:"https://www.linkedin.com/".concat(C)},C)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-linkedin","linkedin")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-linkedin","linkedin")}}))),l.a.createElement("div",{className:"profile-detail"},l.a.createElement("i",{className:"fab fa-youtube"}),A?l.a.createElement("span",null,l.a.createElement("a",{href:"https://www.youtube.com/".concat(A)},A)," ",l.a.createElement("i",{className:"fas fa-pencil-alt",onClick:function(){return a.handleEditAdd("fab fa-youtube","youtube")}})):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-plus",onClick:function(){return a.handleEditAdd("fab fa-youtube","youtube")}})))))))}return l.a.createElement("div",null)}),a}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,l.a.Component),a=t,(n=[{key:"render",value:function(){return this.getContent(this.state.authorized)}}])&&w(a.prototype,n),i&&w(a,i),t}();C.propTypes={accountId:c.a.string,userData:c.a.object,onAvatarClick:c.a.func,isAuthenticated:c.a.bool,onHomeClick:c.a.func};t.default=C}}]);